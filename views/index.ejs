<% include partials/header %>
<div id='index'>
    <h1 id='index-header'>Contact List</h1>
    <table>
        <th>
            <tr id='table-header'>
                <td>#</td>
                <td>Name</td>
                <td>email</td>
                <td>phone</td>
            </tr>
        </th>
        <br>
        <% list.forEach(function(person){ %>
            <tr class='contact-row' id= '<%= person.id %>'</tr>
                <td class='num'><%= list.indexOf(person)+1 %></td>
                <td class='name'><%= person.name %></td>
                <td class='email'><%= person.email %></td>
                <td class='phone'><%= person.phone %></td>
                <td><button class='details'>details</button></td>
                <td><button class='edit'>edit</button></td>
                <td><button class='delete' onclick= "return confirm('Are you sure you want to delete this entry?')">Delete</button></td>
            </tr>
        <% }) %>
    </table>
</div>
<div id='myModal' class='modal'>
    <div id='new-contact-form' class='modal-content'>
        <span class='modal-close'>&times</span>
        <h2 id='new-contact-header'> New Contact</h2>
        <% if(errors){ %>
            <ul>
            <% errors.forEach(function(error){ %>
                <li><%= error.msg %></li>
                <% }) %>
            </ul>
            <% } %>
        <form name='new_entry'>
            <label>Name</label><br>
            <input class="new-name" id='name' type='text' name='name'><br>
            <label>Email</label><br>
            <input class="new-email" id='email' type='text' name='email'><br>
            <label>Phone</label><br>
            <input class="new-phone" id='phone' type='text' name='phone'><br>
            <button id='add_user' type ='submit' value='Submit'>Submit</button>
        </form>    
    </div>
</div>
<script src='index.js'></script>
<script src="contact-list.js"></script>
<% include partials/footer %>